<app-header
  [user]="currentUser"
  (logout)="logout()">
</app-header>

<div class="dashboard-container">

  <!-- üîπ PERSONALIZED DASHBOARD (M-8) -->
  <section class="overview-section" *ngIf="currentUser">

    <!-- Header row -->
    <div class="overview-header">
      <h2>Today - <small>{{ todayDate }}</small></h2>

      <button class="create-task-btn" [routerLink]="['/tasks']">
        üìù Tasks
      </button>
    </div>

    <!-- Content row -->
    <div class="overview-content">

      <!-- Today's Tasks with Learning Time -->
      <div class="overview-card">
        <!-- üîπ Header: task title on left, total time on right -->
        <h3 class="tasks-header">
          <span>Today's Tasks</span>
          <span *ngIf="todaysTasks.length" class="tasks-time">
            Total learning time: ‚è± {{ totalLearningTime }} min
          </span>
        </h3>

        <!-- Task list -->
        <ul *ngIf="todaysTasks.length; else noTasks">
          <li *ngFor="let task of todaysTasks" class="task-row">
            <span class="task-title">{{ task.title }}</span>
            <span class="task-time">‚è± {{ task.learningTime }} min</span>
          </li>
        </ul>

        <!-- No tasks message -->
        <ng-template #noTasks>
          <p class="empty-text">No tasks for today</p>
        </ng-template>
      </div>

    </div>
  </section>

  <!-- üîπ EXISTING DASHBOARD CONTENT -->
  <div class="main-content">
    <p>Learn successfully!</p>

    <div class="dashboard-grid">
      <app-dashboard-cards></app-dashboard-cards>
    </div>
  </div>

</div>
